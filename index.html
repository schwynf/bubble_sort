<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./img/bub_img.jpeg">
    <link rel="stylesheet" href="./css/style.css">
    <title>Bubble_Sort</title>
</head>

<body>
    <div>
    </div>
    <button style="background-color: aqua;" onclick="checkStart()">start</button>
    <button style="background-color: aqua;" id="po" onclick="checkRandom()">random</button>
    <a id="arr"></a>
    <p id="kalee"></p>
    <input id="d" type="text">enter height</input><button onclick="getHeight()">click</button>
    <script>
        var n = 10;
        var doc = document.getElementsByClassName("demo");
        var myArray = [];
        var boot;
        var x;
        var n1;
        var b;
        for (i = 0; i < n; i++) {
            var para = document.createElement("P");
            document.getElementsByTagName("div")[0].appendChild(para);
        }
        // create class
        for (i = 0; i < n; i++) {
            var p = document.getElementsByTagName("P")[i];
            var att = document.createAttribute("class");
            att.value = "demo"
            p.setAttributeNode(att)
        }
        // setting height and length
        var l = 0;
        var h = 300;
        for (i = 0; i < n; i++) {
            doc[i].style.height = h + "px";
            doc[i].style.left = l + "px";
            h -= 1;
            l += 20;
        }
        // setting up my array
        for (i = 0; i < n; i++) {
            myArray[i] = parseInt(doc[i].style.height)
        }
        x = myArray;
        n1 = myArray.length - 1;
        b = n1;






        // start
        function checkStart() {
            if (n1 == b) {
                myfunction();
            }
        }







        // check random
        function checkRandom() {
            if (n1 == b) {
                random();
            }
        }



        function getHeight() {
            var boot = document.getElementById("d").value;
            // delete bars
            for (i = 0; i < n; i++) {
                doc[0].remove();
                myArray.pop();
            }
            // create element
            for (i = 0; i < boot; i++) {
                var para = document.createElement("P");
                document.getElementsByTagName("div")[0].appendChild(para);
            }
            // create p class
            for (i = 0; i < boot; i++) {
                var p = document.getElementsByTagName("P")[i];
                var att = document.createAttribute("class");
                att.value = "demo"
                p.setAttributeNode(att)
            }
            // setting height and length
            var l = 0;
            var h = 300;
            for (i = 0; i < boot; i++) {
                doc[i].style.height = h + "px";
                doc[i].style.left = l + "px";
                h -= 1;
                l += 20;
            }
            // setting up my array
            for (i = 0; i < boot; i++) {
                myArray[i] = parseInt(doc[i].style.height)
            }
            console.log(myArray);
            x = myArray;
            n1 = myArray.length - 1;
            b = n1;
            n = boot;
            document.getElementById("arr").innerHTML = x + " height in px";
        }
        // random function
        function random() {
            for (i = 0; i < n; i++) {
                myArray[i] = Math.floor(Math.random() * 300);
                doc[i].style.height = myArray[i] + "px";
            }
            x = myArray;
            document.getElementById("arr").innerHTML = myArray + " height in px";
        }
        // color change
        function colorChange() {
            for (var i = 0; i < n; i++) {
                doc[i].style.backgroundColor = "coral";
            }

        }
        document.getElementById("arr").innerHTML = x + " height in px";
        document.getElementById("kalee").innerHTML = n1;
        // Engine
        function myfunction() {
            var swap = true;
            for (var i = 0; i < n1; i++) {
                if (x[i] > x[i + 1]) {
                    var temp = x[i];
                    x[i] = x[i + 1];
                    x[i + 1] = temp;
                    var temp1 = doc[i].style.height;
                    doc[i].style.height = doc[i + 1].style.height;
                    doc[i + 1].style.height = temp1;
                    var temp2 = doc[i].innerHTML;
                    doc[i].innerHTML = doc[i + 1].innerHTML;
                    doc[i + 1].innerHTML = temp2;
                    var swap = false;
                }
            }
            if (n1 > 0 && swap == false) {
                --n1;
                for (var i = 0; i < n; i++) {
                    doc[i].style.backgroundColor = "white";
                }
                var myVar = setTimeout(myfunction, 500);
                var myVar1 = setTimeout(colorChange, 250);
            }
            if (swap) {
                clearTimeout(myVar);
                n1 = b;
            }
            document.getElementById("kalee").innerHTML = n1;
            document.getElementById("arr").innerHTML = x + " height in px";
        }
    </script>
</body>

</html>